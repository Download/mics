{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 106b7658bcfb37fb2d2d","webpack:///./index.js"],"names":["mics","args","superclass","length","isClass","shift","factory","isMics","pop","Object","defineProperties","with","get","mixins","reduce","c","m","interface","x","getInterface","prototype","org","mixin","class","result","is","a","classes","indexOf","push","value","writable","obj","type","f","__proto__","constructor","as","itf","subject","keys","k","undefined","an","getPropertyNames","proto","results","getOwnPropertyNames","arr","o","toString"],"mappings":"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","file":"mics.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 106b7658bcfb37fb2d2d","export function mics(...args){\r\n\tvar superclass = args.length && typeof args[0] == 'function' && isClass(args[0]) && args.shift()\r\n\tvar factory = args.length && typeof args[args.length-1] == 'function' && args[args.length-1].length == 1 && !isMics(args[args.length-1]) && args.pop()\r\n\t// if neither superclass nor factory are provided, create a new superclass\r\n\tif (!superclass && !factory) superclass = class{}\r\n\tif (superclass) {\r\n\t\tif (!isMics(superclass)) {\r\n\t\t\tsuperclass = class extends superclass {}\r\n\t\t\tObject.defineProperties(superclass, {\r\n\t\t\t\twith: {get:() => (...mixins) => mixins.reduce((c,m) => m(c), superclass)},\r\n\t\t\t\tinterface: {get:(x => () => x ? x : x = getInterface(superclass.prototype))()}\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn args.length ? superclass.with(args) : superclass\r\n\t}\r\n\tif (args.length) factory = (org => superclass => org(args.reduce((c,m) => m(c), superclass)))(factory)\r\n\tfunction mixin(superclass, ...args) {\r\n\t\tif (this instanceof mixin) return new mixin.class(superclass, ...args)\r\n\t\tvar result = is(superclass).a(mixin) ? superclass : factory(superclass)\r\n\t\tif (mixin.classes.indexOf(result) == -1) mixin.classes.push(result)\r\n\t\treturn result\r\n\t}\r\n\tObject.defineProperties(mixin, {classes: {value:[], writable:false}})\r\n\t// has to be 2 steps because mixin adds the created class to mixin.classes\r\n\tObject.defineProperties(mixin, {\r\n\t\tclass: {value:mixin(class {}), writable:false},\r\n\t\twith: {get:() => (...mixins) => mics(mixin.class, mixins)},\r\n\t\tinterface: {get:(x => () => x ? x : x = getInterface(mixin.class.prototype))()}\r\n\t})\r\n\treturn mixin\r\n}\r\n\r\nexport default mics\r\n\r\nexport function is(obj, type) {\r\n\tfunction a(type) {\r\n\t\tif (typeof obj == 'object') {\r\n\t\t\tif (obj instanceof type) return true\r\n\t\t\tif (type.classes) return type.classes.reduce((f,c) => f || a(c), false)\r\n\t\t}\r\n\t\telse if (typeof obj == 'function') {\r\n\t\t\tvar c = obj\r\n\t\t\twhile (c !== Object) {\r\n\t\t\t\tif (c === type) return true\r\n\t\t\t\tif (type.classes && type.classes.indexOf(c) !== -1) return true\r\n\t\t\t\tc = c.prototype.__proto__.constructor\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\tfunction as(type)\t{\r\n\t\tif (a(type)) return true\r\n\t\tvar itf = type.interface || ((typeof type == 'function') && getInterface(type.prototype))\r\n\t\tvar subject = typeof obj == 'function' ? obj.interface || getInterface(obj.prototype) : obj\r\n\t\treturn itf && Object.keys(itf).reduce((f, k) => \r\n\t\t\tf && (typeof itf[k] == 'function' ? typeof subject[k] == 'function' : k in subject), true\r\n\t\t)\r\n\t}\r\n\treturn type !== undefined ? a(type) : { a, an:a, as }\r\n}\r\n\r\nfunction getPropertyNames(proto) {\r\n\tvar results = []\r\n\twhile (proto !== Object.prototype) {\r\n\t\tObject.getOwnPropertyNames(proto).reduce((arr,k) => arr.indexOf(k) === -1 ? arr.push(k) && arr : arr, results)\r\n\t\tproto = proto.__proto__.constructor.prototype\r\n\t}\r\n\treturn results\r\n}\r\n\r\nexport function getInterface(proto) {\r\n\treturn getPropertyNames(proto).reduce((o,k) => {o[k] = proto[k]; return o}, {})\r\n}\r\n\r\nexport const isClass = x => x.toString().indexOf('class') === 0\r\nexport const isMics = x => !!(x.interface && x.with)\r\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}